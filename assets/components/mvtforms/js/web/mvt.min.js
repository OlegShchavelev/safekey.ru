$(document).ready(function() {
    $(".mvtFormsOneClickForm").click(function(e) {
      e.preventDefault();
      var t = "",
        a = {};
      $(this).parents(".ms2_form").find("[name ^= options]").each(function(e) {
        sel = $(this).attr("id"), value = $(this).val(), void 0 !== sel && $("label[for = " + sel + "]").length > 0 && "" != value && (t += "<div>" + $("[for = " + sel + "]").html() + " " + value + "</div>", a[$(this).attr("id")] = value)
      });
      var i = ["id", "name", "price"],
        n = $(this);
      i.forEach(function(e, t) {
        void 0 !== n.data(e) && ("id" == e ? $("#mvtFormsProduct_" + e).val(n.data(e)) : $("#mvtFormsProduct_" + e).text(n.data(e)))
      }), $("#mvtFormsProductOptions").html(t), $("#mvtFormsOptions").val(JSON.stringify(a)), $("#" + $(this).data("modal")).modal()
    }), $(".mvtFormPhone").length > 0 && void 0 !== $.fn.mask && $(".mvtFormPhone").mask("+7 (000) 000-00-00"), $(".mvtForm").submit(function(e) {
      e.preventDefault();
      var t = $(this).attr("id") + "_result",
        a = $(this).attr("id");
      var i = new FormData($(this)[0]);
      $.ajax({
        url: "assets/components/mvtforms/action.php",
        type: "POST",
        data: i,
        dataType: "json",
        cache: !1,
        processData: !1,
        contentType: !1,
        success: function(e) {
          "error" == e.message ? ($("#" + t).overhang({
          type: "error",
          message: "Ошибка. Заполните все поля правильно."
          }),
          $("#" + a + " .the_form_item").removeClass("has-error"), e.data.forEach(function(e) {
          $("#sf_" + e).addClass("has-error")
          })) : "send_error" == e.message || "error_file" == e.message ?
          $("#" + t).overhang({
          type: "error",
          message: e.data.error
          }) : "send" == e.message && ($("#" + a + " .the_form_item").removeClass("has-error"),
          $("#" + t).overhang({
          type: "success",        processData: !1,
          message: e.data.answ
          }),
          e.data.ga && "undefined" != typeof ga && ga(e.data.ga),
          e.data.ya && "undefined" != typeof yaCounter && (yaCounter.reachGoal(e.data.ya),
          console.log(e.data.ya)),
          e.data.redirect && setTimeout('location="' + e.data.redirect + '"', 1e3),
          $("#" + a + "_submit").css("display", "none"),
          $("#" + a + " .the_form_item input").val(''),
          $("#" + a + " .the_form_div input").val(''),
          $("#" + a + " .the_form_item textarea").val('')
        )
        }
      })
    })
  }), window.jQuery && function(e) {
    "use strict";

    function t(e) {
      return e > 1048576 ? (e / 1048576).toFixed(1) + "Mb" : 1024 == e ? "1Mb" : (e / 1024).toFixed(1) + "Kb"
    }

    function a(e) {
      return (e.files && e.files.length ? e.files : null) || [{
        name: e.value,
        size: 0,
        type: ((e.value || "").match(/[^\.]+$/i) || [""])[0]
      }]
    }
    e.fn.MultiFile = function(i) {
      if (0 == this.length) return this;
      if ("string" == typeof arguments[0]) {
        if (this.length > 1) {
          var n = arguments;
          return this.each(function() {
            e.fn.MultiFile.apply(e(this), n)
          })
        }
        return e.fn.MultiFile[arguments[0]].apply(this, e.makeArray(arguments).slice(1) || [])
      }
      "number" == typeof i && (i = {
        max: i
      });
      var i = e.extend({}, e.fn.MultiFile.options, i || {});
      e("form").not("MultiFile-intercepted").addClass("MultiFile-intercepted").submit(e.fn.MultiFile.disableEmpty), e.fn.MultiFile.options.autoIntercept && (e.fn.MultiFile.intercept(e.fn.MultiFile.options.autoIntercept), e.fn.MultiFile.options.autoIntercept = null), this.not(".MultiFile-applied").addClass("MultiFile-applied").each(function() {
        window.MultiFile = (window.MultiFile || 0) + 1;
        var n = window.MultiFile,
          l = {
            e: this,
            E: e(this),
            clone: e(this).clone()
          },
          r = e.extend({}, e.fn.MultiFile.options, i || {}, (e.metadata ? l.E.metadata() : e.meta ? l.E.data() : null) || {}, {});
        r.max > 0 || (r.max = l.E.attr("maxlength")), r.max > 0 || (r.max = (String(l.e.className.match(/\b(max|limit)\-([0-9]+)\b/gi) || [""]).match(/[0-9]+/gi) || [""])[0], r.max > 0 ? r.max = String(r.max).match(/[0-9]+/gi)[0] : r.max = -1), r.max = new Number(r.max), r.accept = r.accept || l.E.attr("accept") || "", r.accept || (r.accept = l.e.className.match(/\b(accept\-[\w\|]+)\b/gi) || "", r.accept = new String(r.accept).replace(/^(accept|ext)\-/i, "")), r.maxsize = r.maxsize > 0 ? r.maxsize : l.E.data("maxsize") || 0, r.maxsize > 0 || (r.maxsize = (String(l.e.className.match(/\b(maxsize|maxload|size)\-([0-9]+)\b/gi) || [""]).match(/[0-9]+/gi) || [""])[0], r.maxsize > 0 ? r.maxsize = String(r.maxsize).match(/[0-9]+/gi)[0] : r.maxsize = -1), r.maxfile = r.maxfile > 0 ? r.maxfile : l.E.data("maxfile") || 0, r.maxfile > 0 || (r.maxfile = (String(l.e.className.match(/\b(maxfile|filemax)\-([0-9]+)\b/gi) || [""]).match(/[0-9]+/gi) || [""])[0], r.maxfile > 0 ? r.maxfile = String(r.maxfile).match(/[0-9]+/gi)[0] : r.maxfile = -1), r.maxfile > 1 && (r.maxfile = 1024 * r.maxfile), r.maxsize > 1 && (r.maxsize = 1024 * r.maxsize), !1 !== r.multiple && r.max > 1 && l.E.attr("multiple", "multiple").prop("multiple", !0), e.extend(l, r || {}), l.STRING = e.extend({}, e.fn.MultiFile.options.STRING, l.STRING), e.extend(l, {
          n: 0,
          slaves: [],
          files: [],
          instanceKey: l.e.id || "MultiFile" + String(n),
          generateID: function(e) {
            return l.instanceKey + (e > 0 ? "_F" + String(e) : "")
          },
          trigger: function(t, i, n, l) {
            var r, s = n[t] || n["on" + t];
            return s ? (l = l || n.files || a(this), e.each(l, function(e, t) {
              r = s.apply(n.wrapper, [i, t.name, n, t])
            }), r) : void 0
          }
        }), String(l.accept).length > 1 && (l.accept = l.accept.replace(/\W+/g, "|").replace(/^\W|\W$/g, ""), l.rxAccept = new RegExp("\\.(" + (l.accept ? l.accept : "") + ")$", "gi")), l.wrapID = l.instanceKey, l.E.wrap('<div class="MultiFile-wrap" id="' + l.wrapID + '"></div>'), l.wrapper = e("#" + l.wrapID), l.e.name = l.e.name || "file" + n + "[]", l.list || (l.wrapper.append('<div class="MultiFile-list" id="' + l.wrapID + '_list"></div>'), l.list = e("#" + l.wrapID + "_list")), l.list = e(l.list), l.addSlave = function(i, r) {
          l.n++, i.MultiFile = l, i.id = i.name = "", i.id = l.generateID(r), i.name = String(l.namePattern.replace(/\$name/gi, e(l.clone).attr("name")).replace(/\$id/gi, e(l.clone).attr("id")).replace(/\$g/gi, n).replace(/\$i/gi, r));
          var s;
          l.max > 0 && l.files.length > l.max && (i.disabled = !0, s = !0), l.current = i, i = e(i), i.val("").attr("value", "")[0].value = "", i.addClass("MultiFile-applied"), i.change(function(n, s, o) {
            e(this).blur();
            var c = this,
              u = l.files || [],
              p = this.files || [{
                name: this.value,
                size: 0,
                type: ((this.value || "").match(/[^\.]+$/i) || [""])[0]
              }],
              m = [],
              d = 0,
              f = l.total_size || 0,
              h = [];
            e.each(p, function(e, t) {
              m[m.length] = t
            }), l.trigger("FileSelect", this, l, m), e.each(p, function(i, n) {
              var r = n.name.replace(/^C:\\fakepath\\/gi, ""),
                s = n.size,
                o = function(e) {
                  return e.replace("$ext", String(r.match(/[^\.]+$/i) || "")).replace("$file", r.match(/[^\/\\]+$/gi)).replace("$size", t(s) + " > " + t(l.maxfile))
                };
              l.accept && r && !r.match(l.rxAccept) && (h[h.length] = o(l.STRING.denied), l.trigger("FileInvalid", this, l, [n])), e(l.wrapper).find("input[type=file]").not(c).each(function() {
                e.each(a(this), function(e, t) {
                  if (t.name) {
                    var a = (t.name || "").replace(/^C:\\fakepath\\/gi, "");
                    (r == a || r == a.substr(a.length - r.length)) && (h[h.length] = o(l.STRING.duplicate), l.trigger("FileDuplicate", c, l, [t]))
                  }
                })
              }), l.maxfile > 0 && s > 0 && s > l.maxfile && (h[h.length] = o(l.STRING.toobig), l.trigger("FileTooBig", this, l, [n]));
              var u = l.trigger("FileValidate", this, l, [n]);
              u && "" != u && (h[h.length] = o(u)), d += n.size
            }), f += d, m.size = d, m.total = f, m.total_length = m.length + u.length, l.max > 0 && u.length + p.length > l.max && (h[h.length] = l.STRING.toomany.replace("$max", l.max), l.trigger("FileTooMany", this, l, m)), l.maxsize > 0 && f > l.maxsize && (h[h.length] = l.STRING.toomuch.replace("$size", t(f) + " > " + t(l.maxsize)), l.trigger("FileTooMuch", this, l, m));
            var g = e(l.clone).clone();
            return g.addClass("MultiFile"), h.length > 0 ? (l.error(h.join("\n\n")), l.n--, l.addSlave(g[0], r), i.parent().prepend(g), i.remove(), !1) : (l.total_size = f, p = u.concat(m), p.size = f, p.size_label = t(f), l.files = p, e(this).css({
              position: "absolute",
              top: "-3000px"
            }), i.after(g), l.addSlave(g[0], r + 1), l.addToList(this, r, m), void l.trigger("afterFileSelect", this, l, m))
          }), e(i).data("MultiFile-wrap", l.wrapper), e(l.wrapper).data("MultiFile", l), s && e(i).attr("disabled", "disabled").prop("disabled", !0)
        }, l.addToList = function(i, n, r) {
          l.trigger("FileAppend", i, l, r);
          var s = e("<span/>");
          e.each(r, function(a, n) {
            var r = String(n.name || "").replace(/[&<>'"]/g, function(e) {
                return "&#" + e.charCodeAt() + ";"
              }),
              o = l.STRING,
              c = o.label || o.file || o.name,
              u = o.title || o.tooltip || o.selected,
              p = "image/" == n.type.substr(0, 6) ? '<img class="MultiFile-preview" style="' + l.previewCss + '"/>' : "",
              m = e(('<span class="MultiFile-label" title="' + u + '"><span class="MultiFile-title">' + c + "</span>" + (l.preview || e(i).is(".with-preview") ? p : "") + "</span>").replace(/\$(file|name)/gi, (r.match(/[^\/\\]+$/gi) || [r])[0]).replace(/\$(ext|extension|type)/gi, (r.match(/[^\.]+$/gi) || [""])[0]).replace(/\$(size)/gi, t(n.size || 0)).replace(/\$(preview)/gi, p).replace(/\$(i)/gi, a));
            m.find("img.MultiFile-preview").each(function() {
              var e = this,
                t = new FileReader;
              t.readAsDataURL(n), t.onload = function(t) {
                e.src = t.target.result
              }
            }), a > 0 && s.append(", "), s.append(m);
            var r = String(n.name || "");
            s[s.length] = ('<span class="MultiFile-title" title="' + l.STRING.selected + '">' + l.STRING.file + "</span>").replace(/\$(file|name)/gi, (r.match(/[^\/\\]+$/gi) || [r])[0]).replace(/\$(ext|extension|type)/gi, (r.match(/[^\.]+$/gi) || [""])[0]).replace(/\$(size)/gi, t(n.size || 0)).replace(/\$(i)/gi, a)
          });
          var o = e('<div class="MultiFile-label"></div>'),
            c = e('<a class="MultiFile-remove" href="#' + l.wrapID + '">' + l.STRING.remove + "</a>").click(function() {
              var n = a(i);
              l.trigger("FileRemove", i, l, n), l.n--, l.current.disabled = !1, e(i).remove(), e(this).parent().remove(), e(l.current).css({
                position: "",
                top: ""
              }), e(l.current).reset().val("").attr("value", "")[0].value = "";
              var r = [],
                s = 0;
              return e(l.wrapper).find("input[type=file]").each(function() {
                e.each(a(this), function(e, t) {
                  t.name && (r[r.length] = t, s += t.size)
                })
              }), l.files = r, l.total_size = s, l.size_label = t(s), e(l.wrapper).data("MultiFile", l), l.trigger("afterFileRemove", i, l, n), l.trigger("FileChange", l.current, l, r), !1
            });
          l.list.append(o.append(c, " ", s)), l.trigger("afterFileAppend", i, l, r), l.trigger("FileChange", i, l, l.files)
        }, l.MultiFile || l.addSlave(l.e, 0), l.n++
      })
    }, e.extend(e.fn.MultiFile, {
      data: function() {
        var t = e(this),
          a = t.is(".MultiFile-wrap"),
          i = a ? t : t.data("MultiFile-wrap");
        if (!i || !i.length) return !console.error("Could not find MultiFile control wrapper");
        var n = i.data("MultiFile");
        return n ? n || {} : !console.error("Could not find MultiFile data in wrapper")
      },
      reset: function() {
        var t = this.MultiFile("data");
        return t && e(t.list).find("a.MultiFile-remove").click(), e(this)
      },
      files: function() {
        var e = this.MultiFile("data");
        return e ? e.files || [] : !console.log("MultiFile plugin not initialized")
      },
      size: function() {
        var e = this.MultiFile("data");
        return e ? e.total_size || 0 : !console.log("MultiFile plugin not initialized")
      },
      count: function() {
        var e = this.MultiFile("data");
        return e ? e.files ? e.files.length || 0 : 0 : !console.log("MultiFile plugin not initialized")
      },
      disableEmpty: function(t) {
        t = ("string" == typeof t ? t : "") || "mfD";
        var a = [];
        return e("input:file.MultiFile").each(function() {
          "" == e(this).val() && (a[a.length] = this)
        }), window.clearTimeout(e.fn.MultiFile.reEnableTimeout), e.fn.MultiFile.reEnableTimeout = window.setTimeout(e.fn.MultiFile.reEnableEmpty, 500), e(a).each(function() {
          this.disabled = !0
        }).addClass(t)
      },
      reEnableEmpty: function(t) {
        return t = ("string" == typeof t ? t : "") || "mfD", e("input:file." + t).removeClass(t).each(function() {
          this.disabled = !1
        })
      },
      intercepted: {},
      intercept: function(t, a, i) {
        var n, l;
        if (i = i || [], i.constructor.toString().indexOf("Array") < 0 && (i = [i]), "function" == typeof t) return e.fn.MultiFile.disableEmpty(), l = t.apply(a || window, i), setTimeout(function() {
          e.fn.MultiFile.reEnableEmpty()
        }, 1e3), l;
        t.constructor.toString().indexOf("Array") < 0 && (t = [t]);
        for (var r = 0; r < t.length; r++)(n = t[r] + "") && function(t) {
          e.fn.MultiFile.intercepted[t] = e.fn[t] || function() {}, e.fn[t] = function() {
            return e.fn.MultiFile.disableEmpty(), l = e.fn.MultiFile.intercepted[t].apply(this, arguments), setTimeout(function() {
              e.fn.MultiFile.reEnableEmpty()
            }, 1e3), l
          }
        }(n)
      }
    }), e.fn.MultiFile.options = {
      accept: "",
      max: -1,
      maxfile: -1,
      maxsize: -1,
      namePattern: "$name",
      preview: !1,
      previewCss: "max-height:100px; max-width:100px;",
      STRING: {
        remove: "x",
        denied: "Извините, файл $ext не будет отправлен.\n",
        file: "$file",
        selected: "Выбраны файлы: $file",
        duplicate: "Этот файл уже выбран:\n$file",
        toomuch: "Размер выбранных файлов превысил ($size)",
        toomany: "Выбрано слишком много файлов (максимум: $max)",
        toobig: "$file слишком большой (максимум: $size)"
      },
      autoIntercept: ["submit", "ajaxSubmit", "ajaxForm", "validate", "valid"],
      error: function(e) {
        "undefined" != typeof console && console.log(e), alert(e)
      }
    }, e.fn.reset = e.fn.reset || function() {
      return this.each(function() {
        try {
          this.reset()
        } catch (e) {}
      })
    }, e(function() {
      e("input[type=file].multi").MultiFile()
    })
  }(jQuery),
  function(e, t, a) {
    "function" == typeof define && define.amd ? define(["jquery"], e) : "object" == typeof exports ? module.exports = e(require("jquery")) : e(t || a)
  }(function(e) {
    "use strict";
    var t = function(t, a, i) {
      var n = {
        invalid: [],
        getCaret: function() {
          try {
            var e, a = 0,
              i = t.get(0),
              l = document.selection,
              r = i.selectionStart;
            return l && -1 === navigator.appVersion.indexOf("MSIE 10") ? (e = l.createRange(), e.moveStart("character", -n.val().length), a = e.text.length) : (r || "0" === r) && (a = r), a
          } catch (e) {}
        },
        setCaret: function(e) {
          try {
            if (t.is(":focus")) {
              var a, i = t.get(0);
              i.setSelectionRange ? i.setSelectionRange(e, e) : (a = i.createTextRange(), a.collapse(!0), a.moveEnd("character", e), a.moveStart("character", e), a.select())
            }
          } catch (e) {}
        },
        events: function() {
          t.on("keydown.mask", function(e) {
            t.data("mask-keycode", e.keyCode || e.which), t.data("mask-previus-value", t.val()), t.data("mask-previus-caret-pos", n.getCaret()), n.maskDigitPosMapOld = n.maskDigitPosMap
          }).on(e.jMaskGlobals.useInput ? "input.mask" : "keyup.mask", n.behaviour).on("paste.mask drop.mask", function() {
            setTimeout(function() {
              t.keydown().keyup()
            }, 100)
          }).on("change.mask", function() {
            t.data("changed", !0)
          }).on("blur.mask", function() {
            s === n.val() || t.data("changed") || t.trigger("change"), t.data("changed", !1)
          }).on("blur.mask", function() {
            s = n.val()
          }).on("focus.mask", function(t) {
            !0 === i.selectOnFocus && e(t.target).select()
          }).on("focusout.mask", function() {
            i.clearIfNotMatch && !l.test(n.val()) && n.val("")
          })
        },
        getRegexMask: function() {
          for (var e, t, i, n, l, s, o = [], c = 0; c < a.length; c++) e = r.translation[a.charAt(c)], e ? (t = e.pattern.toString().replace(/.{1}$|^.{1}/g, ""), i = e.optional, n = e.recursive, n ? (o.push(a.charAt(c)), l = {
            digit: a.charAt(c),
            pattern: t
          }) : o.push(i || n ? t + "?" : t)) : o.push(a.charAt(c).replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&"));
          return s = o.join(""), l && (s = s.replace(new RegExp("(" + l.digit + "(.*" + l.digit + ")?)"), "($1)?").replace(new RegExp(l.digit, "g"), l.pattern)), new RegExp(s)
        },
        destroyEvents: function() {
          t.off(["input", "keydown", "keyup", "paste", "drop", "blur", "focusout", ""].join(".mask "))
        },
        val: function(e) {
          var a, i = t.is("input"),
            n = i ? "val" : "text";
          return arguments.length > 0 ? (t[n]() !== e && t[n](e), a = t) : a = t[n](), a
        },
        calculateCaretPosition: function() {
          var e = t.data("mask-previus-value") || "",
            a = n.getMasked(),
            i = n.getCaret();
          if (e !== a) {
            var l = t.data("mask-previus-caret-pos") || 0,
              r = a.length,
              s = e.length,
              o = 0,
              c = 0,
              u = 0,
              p = 0,
              m = 0;
            for (m = i; m < r && n.maskDigitPosMap[m]; m++) c++;
            for (m = i - 1; m >= 0 && n.maskDigitPosMap[m]; m--) o++;
            for (m = i - 1; m >= 0; m--) n.maskDigitPosMap[m] && u++;
            for (m = l - 1; m >= 0; m--) n.maskDigitPosMapOld[m] && p++;
            if (i > s) i = 10 * r;
            else if (l >= i && l !== s) {
              if (!n.maskDigitPosMapOld[i]) {
                var d = i;
                i -= p - u, i -= o, n.maskDigitPosMap[i] && (i = d)
              }
            } else i > l && (i += u - p, i += c)
          }
          return i
        },
        behaviour: function(a) {
          a = a || window.event, n.invalid = [];
          var i = t.data("mask-keycode");
          if (-1 === e.inArray(i, r.byPassKeys)) {
            var l = n.getMasked(),
              s = n.getCaret();
            return setTimeout(function() {
              n.setCaret(n.calculateCaretPosition())
            }, e.jMaskGlobals.keyStrokeCompensation), n.val(l), n.setCaret(s), n.callbacks(a)
          }
        },
        getMasked: function(e, t) {
          var l, s, o = [],
            c = void 0 === t ? n.val() : t + "",
            u = 0,
            p = a.length,
            m = 0,
            d = c.length,
            f = 1,
            h = "push",
            g = -1,
            v = 0,
            k = [];
          i.reverse ? (h = "unshift", f = -1, l = 0, u = p - 1, m = d - 1, s = function() {
            return u > -1 && m > -1
          }) : (l = p - 1, s = function() {
            return u < p && m < d
          });
          for (var M; s();) {
            var x = a.charAt(u),
              y = c.charAt(m),
              F = r.translation[x];
            F ? (y.match(F.pattern) ? (o[h](y), F.recursive && (-1 === g ? g = u : u === l && u !== g && (u = g - f), l === g && (u -= f)), u += f) : y === M ? (v--, M = void 0) : F.optional ? (u += f, m -= f) : F.fallback ? (o[h](F.fallback), u += f, m -= f) : n.invalid.push({
              p: m,
              v: y,
              e: F.pattern
            }), m += f) : (e || o[h](x), y === x ? (k.push(m), m += f) : (M = x, k.push(m + v), v++), u += f)
          }
          var w = a.charAt(l);
          p !== d + 1 || r.translation[w] || o.push(w);
          var b = o.join("");
          return n.mapMaskdigitPositions(b, k, d), b
        },
        mapMaskdigitPositions: function(e, t, a) {
          var l = i.reverse ? e.length - a : 0;
          n.maskDigitPosMap = {};
          for (var r = 0; r < t.length; r++) n.maskDigitPosMap[t[r] + l] = 1
        },
        callbacks: function(e) {
          var l = n.val(),
            r = l !== s,
            o = [l, e, t, i],
            c = function(e, t, a) {
              "function" == typeof i[e] && t && i[e].apply(this, a)
            };
          c("onChange", !0 === r, o), c("onKeyPress", !0 === r, o), c("onComplete", l.length === a.length, o), c("onInvalid", n.invalid.length > 0, [l, e, t, n.invalid, i])
        }
      };
      t = e(t);
      var l, r = this,
        s = n.val();
      a = "function" == typeof a ? a(n.val(), void 0, t, i) : a, r.mask = a, r.options = i, r.remove = function() {
        var e = n.getCaret();
        return r.options.placeholder && t.removeAttr("placeholder"), t.data("mask-maxlength") && t.removeAttr("maxlength"), n.destroyEvents(), n.val(r.getCleanVal()), n.setCaret(e), t
      }, r.getCleanVal = function() {
        return n.getMasked(!0)
      }, r.getMaskedVal = function(e) {
        return n.getMasked(!1, e)
      }, r.init = function(s) {
        if (s = s || !1, i = i || {}, r.clearIfNotMatch = e.jMaskGlobals.clearIfNotMatch, r.byPassKeys = e.jMaskGlobals.byPassKeys, r.translation = e.extend({}, e.jMaskGlobals.translation, i.translation), r = e.extend(!0, {}, r, i), l = n.getRegexMask(), s) n.events(), n.val(n.getMasked());
        else {
          i.placeholder && t.attr("placeholder", i.placeholder), t.data("mask") && t.attr("autocomplete", "off");
          for (var o = 0, c = !0; o < a.length; o++) {
            var u = r.translation[a.charAt(o)];
            if (u && u.recursive) {
              c = !1;
              break
            }
          }
          c && t.attr("maxlength", a.length).data("mask-maxlength", !0), n.destroyEvents(), n.events();
          var p = n.getCaret();
          n.val(n.getMasked()), n.setCaret(p)
        }
      }, r.init(!t.is("input"))
    };
    e.maskWatchers = {};
    var a = function() {
        var a = e(this),
          n = {},
          l = a.attr("data-mask");
        if (a.attr("data-mask-reverse") && (n.reverse = !0), a.attr("data-mask-clearifnotmatch") && (n.clearIfNotMatch = !0), "true" === a.attr("data-mask-selectonfocus") && (n.selectOnFocus = !0), i(a, l, n)) return a.data("mask", new t(this, l, n))
      },
      i = function(t, a, i) {
        i = i || {};
        var n = e(t).data("mask"),
          l = JSON.stringify,
          r = e(t).val() || e(t).text();
        try {
          return "function" == typeof a && (a = a(r)), "object" != typeof n || l(n.options) !== l(i) || n.mask !== a
        } catch (e) {}
      };
    e.fn.mask = function(a, n) {
      n = n || {};
      var l = this.selector,
        r = e.jMaskGlobals,
        s = r.watchInterval,
        o = n.watchInputs || r.watchInputs,
        c = function() {
          if (i(this, a, n)) return e(this).data("mask", new t(this, a, n))
        };
      return e(this).each(c), l && "" !== l && o && (clearInterval(e.maskWatchers[l]), e.maskWatchers[l] = setInterval(function() {
        e(document).find(l).each(c)
      }, s)), this
    }, e.fn.masked = function(e) {
      return this.data("mask").getMaskedVal(e)
    }, e.fn.unmask = function() {
      return clearInterval(e.maskWatchers[this.selector]), delete e.maskWatchers[this.selector], this.each(function() {
        var t = e(this).data("mask");
        t && t.remove().removeData("mask")
      })
    }, e.fn.cleanVal = function() {
      return this.data("mask").getCleanVal()
    }, e.applyDataMask = function(t) {
      t = t || e.jMaskGlobals.maskElements, (t instanceof e ? t : e(t)).filter(e.jMaskGlobals.dataMaskAttr).each(a)
    };
    var n = {
      maskElements: "input,td,span,div",
      dataMaskAttr: "*[data-mask]",
      dataMask: !0,
      watchInterval: 300,
      watchInputs: !0,
      keyStrokeCompensation: 10,
      useInput: !/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent) && function(e) {
        var t, a = document.createElement("div");
        return e = "on" + e, t = e in a, t || (a.setAttribute(e, "return;"), t = "function" == typeof a[e]), a = null, t
      }("input"),
      watchDataMask: !1,
      byPassKeys: [9, 16, 17, 18, 36, 37, 38, 39, 40, 91],
      translation: {
        0: {
          pattern: /\d/
        },
        9: {
          pattern: /\d/,
          optional: !0
        },
        "#": {
          pattern: /\d/,
          recursive: !0
        },
        A: {
          pattern: /[a-zA-Z0-9]/
        },
        S: {
          pattern: /[a-zA-Z]/
        }
      }
    };
    e.jMaskGlobals = e.jMaskGlobals || {}, n = e.jMaskGlobals = e.extend(!0, {}, n, e.jMaskGlobals), n.dataMask && e.applyDataMask(), setInterval(function() {
      e.jMaskGlobals.watchDataMask && e.applyDataMask()
    }, n.watchInterval)
  }, window.jQuery, window.Zepto);
